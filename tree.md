```
f 0 = halt
f 1 [1 b] = b
f 1 [2 0 z] = 0 z
f 2 [a b] = b a
f 3 [[1 g] y] = f y [f g x]
f x [[1 g] y] = f y [g x]




f \
| 0 = halt
| 1 \
| | [ 1 \
| | - | 'b ]
| |   /       = 'b
| | [ 2 \
| | - | 0 \
| | - | | 'z
| | ] / /      = 0 z
| 2 [ 'a 'b ] = 'b 'a
| 3 \
| | [ [ 1 'g ]
| | - [ 'y ]
| | ]         = f 'y [f 'g 'x]
| 'x [ [ 'g 'y ] ] = f 'y ['g 'x]
!

```